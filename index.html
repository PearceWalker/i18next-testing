<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Translations</title>
</head>
<body>
  <div id="prompt" data-i18n="prompts.kindnessChallenge1"></div>

  <button onclick="setLanguage('en')" data-i18n="buttons.english">English</button>
  <button onclick="setLanguage('es')" data-i18n="buttons.spanish">Español</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/i18next/21.6.3/i18next.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/i18next-browser-languagedetector/6.2.1/i18nextBrowserLanguageDetector.min.js"></script>
  <script>
    // i18next initialization
    i18next.init({
      fallbackLng: 'en', // default language
      debug: true, // enable debug mode
      resources: {
        en: {
          translation: {
            "prompts.kindnessChallenge1": "Compliment a stranger.",
            "prompts.kindnessChallenge2": "Write a heartfelt letter to someone you care about.",
            "prompts.kindnessChallenge3": "Help someone carry their groceries.",
            "buttons.english": "English",
            "buttons.spanish": "Español"
          }
        },
        es: {
          translation: {
            "prompts.kindnessChallenge1": "Dar un cumplido a un desconocido.",
            "prompts.kindnessChallenge2": "Escribir una carta sincera a alguien que te importe.",
            "prompts.kindnessChallenge3": "Ayudar a alguien a llevar sus compras.",
            "buttons.english": "Inglés",
            "buttons.spanish": "Español"
          }
        }
      }
    });

    // Function to set the language
    function setLanguage(language) {
      i18next.changeLanguage(language, (err, t) => {
        if (err) return console.error('Something went wrong loading language:', err);
        console.log('Language switched to', language);
        renderPrompts();
      });
    }

    // Function to render prompts in the current language
    function renderPrompts() {
      const language = i18next.language;
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.dataset.i18n;
        element.textContent = i18next.t(key);
      });
    }

    // Initial language setup
    setLanguage('en');
  </script>
</body>
</html>
